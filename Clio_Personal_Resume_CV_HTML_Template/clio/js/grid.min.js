!function(){"use strict";if(document.body.classList.contains("home")){var e,t,n=document.body,i=window.document.documentElement,o=Modernizr.csstransitions,s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[Modernizr.prefixed("transition")],r=function(e,t){var n=function(e){if(o){if(e.target!=this)return;this.removeEventListener(s,n)}t&&"function"==typeof t&&t.call(this)};o?e.addEventListener(s,n):n()},a=document.getElementById("theGrid"),l=a.querySelector("section.grid"),d=a.querySelector("div.content"),c=l.querySelectorAll(".grid__item"),f=d.querySelectorAll(".content__item"),u=d.querySelector(".close-button"),m=-1,p=!1,h=!1;[].slice.call(c).forEach(function(e,t){e.addEventListener("click",function(i){if(i.preventDefault(),h||m===t)return!1;h=!0,m=t,classie.add(e,"grid__item--loading"),setTimeout(function(){classie.add(e,"grid__item--animate"),setTimeout(function(){!function(e){var t=document.createElement("div");t.className="placeholder",t.style.WebkitTransform="translate3d("+(e.offsetLeft-5)+"px, "+(e.offsetTop-5)+"px, 0px) scale3d("+e.offsetWidth/l.offsetWidth+","+e.offsetHeight/v("y")+",1)",t.style.transform="translate3d("+(e.offsetLeft-5)+"px, "+(e.offsetTop-5)+"px, 0px) scale3d("+e.offsetWidth/l.offsetWidth+","+e.offsetHeight/v("y")+",1)",classie.add(t,"placeholder--trans-in"),l.appendChild(t),classie.add(n,"view-single"),setTimeout(function(){t.style.WebkitTransform="translate3d(-5px, "+(w()-5)+"px, 0px)",t.style.transform="translate3d(-5px, "+(w()-5)+"px, 0px)",window.addEventListener("scroll",x)},25),r(t,function(){classie.remove(t,"placeholder--trans-in"),classie.add(t,"placeholder--trans-out"),d.style.top=w()+"px",classie.add(d,"content--show"),classie.add(f[m],"content__item--show"),classie.add(u,"close-button--show"),classie.addClass(n,"noscroll"),h=!1})}(e)},500)},1e3)})}),u.addEventListener("click",function(){y()}),document.addEventListener("keydown",function(e){if(!h&&-1!==m){var t=e.keyCode||e.which;27===t&&(e.preventDefault(),"activeElement"in document&&document.activeElement.blur(),y())}})}function v(e){var t,n;return"x"===e?(t=i.clientWidth,n=window.innerWidth):"y"===e&&(t=i.clientHeight,n=window.innerHeight),t<n?n:t}function w(){return window.pageYOffset||i.scrollTop}function y(){var e=c[m],t=f[m];classie.remove(t,"content__item--show"),classie.remove(d,"content--show"),classie.remove(u,"close-button--show"),classie.remove(n,"view-single"),setTimeout(function(){var i=l.querySelector(".placeholder");classie.removeClass(n,"noscroll"),i.style.WebkitTransform="translate3d("+e.offsetLeft+"px, "+e.offsetTop+"px, 0px) scale3d("+e.offsetWidth/l.offsetWidth+","+e.offsetHeight/v("y")+",1)",i.style.transform="translate3d("+e.offsetLeft+"px, "+e.offsetTop+"px, 0px) scale3d("+e.offsetWidth/l.offsetWidth+","+e.offsetHeight/v("y")+",1)",r(i,function(){t.parentNode.scrollTop=0,l.removeChild(i),classie.remove(e,"grid__item--loading"),classie.remove(e,"grid__item--animate"),p=!1,window.removeEventListener("scroll",x)}),m=-1},25)}function x(){p||(p=!0,e=window.pageXOffset||i.scrollLeft,t=w()),window.scrollTo(e,t)}}();